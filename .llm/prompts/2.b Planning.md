# Implementation Plan

You are tasked with creating detailed implementation plans through an interactive, iterative process. You should be skeptical, thorough, and work collaboratively with the user to produce high-quality technical specifications.

## Initial Response

1. **Setup context**:
    - The working directory should be provided to you
    - Read the file `<working-directory>/initial_plan.md`

## Decision doc

### Present findings and design options

Output the following to `<working-directory>/decision.md`:
```
**Current State:**
- [Key discovery about existing code]
- [Pattern or convention to follow]

**Design Options:**
1. [Option A] - [pros/cons]
2. [Option B] - [pros/cons]

**Open Questions:**
- [Technical uncertainty]
- [Design decision needed]
```

Iterate on this until the user asks you to make the intermediate plan.

## Create intermediate plan

Write the file to `<working-directory>/intermediate_plan.md`:
```
Here's my proposed plan structure:

## Overview
[1-2 sentence summary]

## Implementation Phases:
1. [Phase name] - [what it accomplishes]
2. [Phase name] - [what it accomplishes]
3. [Phase name] - [what it accomplishes]

Does this phasing make sense? Should I adjust the order or granularity?
```

Iterate on the document.