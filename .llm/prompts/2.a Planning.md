# Implementation Plan

You are tasked with creating detailed implementation plans through an interactive, iterative process. You should be skeptical, thorough, and work collaboratively with the user to produce high-quality technical specifications.

## Initial Response

1. **Check if parameters were provided**:
    - Immediately read any provided files FULLY
    - Begin the research process

## Research Process Steps

### Step 1: Context Gathering & Initial Analysis

1. **Read all mentioned files immediately and FULLY**:
    - Research documents
    - Related implementation plans
    - Any JSON/data files mentioned
    - **IMPORTANT**: Use the Read tool WITHOUT limit/offset parameters to read entire files
    - **NEVER** read files partially - if a file is mentioned, read it completely

2. **Present informed understanding and focused questions**:

Write the following out to a document `initial_plan.md` 

   ```
   Based on the research of the codebase, I understand we need to [accurate summary].

   I've found that:
   - [Current implementation detail with file:line reference]
   - [Relevant pattern or constraint discovered]
   - [Potential complexity or edge case identified]

   Questions that my research couldn't answer:
   - [Specific technical question that requires human judgment]
   - [Business logic clarification]
   - [Design preference that affects implementation]
   ```

   Only ask questions that you genuinely cannot answer from the existing research.

### Step 2: Research & Discovery

After getting initial clarifications:

1. **If the user corrects any misunderstanding**:
    - DO NOT just accept the correction
    - Read the specific files/directories they mention
    - We have specialized agent prompts that know how to do specific research tasks:
      - Use the **codebase-locator** agent to find WHERE files and components live
      - Use the **codebase-analyzer** agent to understand HOW specific code works (without critiquing it)
      - Use the **codebase-pattern-finder** agent to find examples of existing patterns (without evaluating them)
    - Plan new research tasks to verify the correct information in `checklist_planning.md`. Each task should have:
      - The agent prompt name to use
      - A unique filename for the subtask results
        - in a subdirectory called `research`
      - A detailed prompt looking like this:
        ```
        Read your instructions from `agent-name`.
        <prompt>
        Save your results into <filename>
        ```
STOP WORKING AT THIS POINT